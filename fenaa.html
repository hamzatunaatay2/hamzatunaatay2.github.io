<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reis Galericilik: Grand Tycoon</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --main: #1abc9c; --bg: #0f172a; --card: #1e293b; --text: #f8fafc; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 10px; overflow-x: hidden; }
        
        /* Layout */
        .header { background: var(--card); padding: 15px; border-radius: 15px; border-bottom: 4px solid var(--main); display: flex; justify-content: space-around; flex-wrap: wrap; margin-bottom: 15px; position: sticky; top: 0; z-index: 100; }
        .grid { display: grid; grid-template-columns: 350px 1fr 350px; gap: 15px; }
        
        /* Panel Styles */
        .panel { background: var(--card); border-radius: 15px; padding: 15px; border: 1px solid #334155; height: fit-content; }
        h2 { color: var(--main); font-size: 1.2rem; border-bottom: 1px solid #334155; padding-bottom: 10px; margin-top: 0; display: flex; align-items: center; gap: 10px; }
        
        /* News Ticker */
        #news-bar { background: #c0392b; padding: 8px; font-weight: bold; white-space: nowrap; overflow: hidden; border-radius: 5px; margin-bottom: 15px; }
        #news-content { display: inline-block; animation: scroll 20s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* Car Cards */
        .car-card { background: var(--text); color: #0f172a; padding: 12px; border-radius: 10px; margin-bottom: 12px; transition: 0.3s; position: relative; }
        .car-card:hover { transform: scale(1.02); }
        .rarity-makam { border-left: 8px solid #e74c3c; box-shadow: 0 0 10px rgba(231, 76, 60, 0.3); }
        .price { font-weight: bold; color: #27ae60; font-size: 1.1rem; }
        
        /* Buttons */
        .btn { border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.2s; font-size: 0.9rem; }
        .btn-buy { background: #27ae60; color: white; width: 100%; }
        .btn-mod { background: #3498db; color: white; margin-top: 5px; }
        .btn-sell { background: #f39c12; color: white; width: 100%; }

        /* Small UI elements */
        .stat-box { display: flex; flex-direction: column; align-items: center; }
        .log-area { height: 150px; overflow-y: auto; background: #000; font-family: monospace; font-size: 0.8rem; padding: 10px; color: #00ff00; border-radius: 5px; }
        .badge { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; background: #34495e; color: white; }

        @media (max-width: 1100px) { .grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="header">
    <div class="stat-box"><span class="badge">NAKÄ°T</span><span id="m-money">0</span> TL</div>
    <div class="stat-box"><span class="badge">Ä°TÄ°BAR</span><span id="m-rep">0</span></div>
    <div class="stat-box"><span class="badge">GARAJ</span><span id="m-garage">0/6</span></div>
    <div class="stat-box"><span class="badge">BÄ°TCOÄ°N</span><span id="m-btc">0</span></div>
    <button class="btn" style="background:#e74c3c; color:white;" onclick="saveGame()"><i class="fas fa-save"></i> KAYDET</button>
</div>

<div id="news-bar"><span id="news-content">ğŸš€ Reis Galericilik Grand Tycoon SÃ¼rÃ¼mÃ¼ BaÅŸladÄ±! | Piyasa Hareketli...</span></div>

<div class="grid">
    <div class="panel">
        <h2><i class="fas fa-store"></i> CANLI PÄ°YASA</h2>
        <div id="market-list"></div>
        <button class="btn" style="width:100%; background:var(--main); color:white; margin-top:10px;" onclick="refreshMarket()">ğŸ”„ Ä°LANLARI YENÄ°LE (2.500 TL)</button>
        
        <h2 style="margin-top:20px;"><i class="fas fa-chart-line"></i> BORSA / DÃ–VÄ°Z</h2>
        <div style="background:rgba(255,255,255,0.05); padding:10px; border-radius:10px;">
            <div>ğŸ’µ USD: <b id="rate-usd">0</b> TL</div>
            <div>â‚¿ BTC: <b id="rate-btc">0</b> TL</div>
            <div style="margin-top:10px; display:flex; gap:5px;">
                <button class="btn btn-mod" onclick="tradeBtc('buy')">BTC AL</button>
                <button class="btn btn-mod" onclick="tradeBtc('sell')" style="background:#e67e22">BTC SAT</button>
            </div>
        </div>
    </div>

    <div class="panel">
        <h2><i class="fas fa-warehouse"></i> GARAJIM & SERVÄ°S</h2>
        <div id="garage-list"></div>
        <div id="empty-garage" style="text-align:center; padding:40px; color:#64748b;">HenÃ¼z aracÄ±n yok Reis, piyasadan bir ÅŸeyler kap!</div>
    </div>

    <div class="panel">
        <h2><i class="fas fa-university"></i> BEÅTEPE BANKASI</h2>
        <div style="background:rgba(255,255,255,0.05); padding:10px; border-radius:10px; margin-bottom:15px;">
            <p style="font-size:0.8rem;">Kredi Borcu: <b id="loan-val">0</b> TL</p>
            <button class="btn btn-buy" onclick="takeLoan()" style="background:#8e44ad">500.000 TL KREDÄ° Ã‡EK</button>
            <button class="btn btn-buy" onclick="payLoan()" style="background:#2c3e50; margin-top:5px;">BORÃ‡ Ã–DE (100.000 TL)</button>
        </div>

        <h2><i class="fas fa-history"></i> Ä°ÅLEM KAYITLARI</h2>
        <div class="log-area" id="log-box"></div>
        
        <div style="margin-top:15px; font-size:0.7rem; color:#64748b; text-align:center;">
            Ä°pucu: 'R' tuÅŸuna basarak gizli kodu girebilirsin.
        </div>
    </div>
</div>

<script>
// --- OYUN VERÄ°LERÄ° ---
let state = {
    money: 750000,
    rep: 10,
    garage: [],
    maxGarage: 6,
    btc: 0,
    loan: 0,
    rates: { usd: 31.20, btc: 1850000 }
};

const CAR_MODELS = [
    { id: 1, name: "TofaÅŸ Åahin", base: 220000, makam: false, icon: "ğŸš—" },
    { id: 2, name: "Toyota Corolla", base: 950000, makam: false, icon: "ğŸš™" },
    { id: 3, name: "VW Passat (AÅŸiret)", base: 1800000, makam: false, icon: "ğŸš˜" },
    { id: 4, name: "TOGG T10X", base: 2150000, makam: true, icon: "ğŸ”‹" },
    { id: 5, name: "Mercedes S600", base: 14500000, makam: true, icon: "ğŸ•´ï¸" },
    { id: 6, name: "Range Rover", base: 9200000, makam: true, icon: "ğŸ”ï¸" },
    { id: 7, name: "BMW M4 G82", base: 6500000, makam: false, icon: "ğŸ”¥" }
];

// --- Ã‡EKÄ°RDEK SÄ°STEM ---
function init() {
    loadGame();
    setInterval(economyTick, 4000);
    refreshMarket();
    updateUI();
    log("Sistem aktif. HoÅŸ geldin Reis!");
}

function log(msg) {
    const box = document.getElementById("log-box");
    box.innerHTML = `<div>[${new Date().toLocaleTimeString()}] ${msg}</div>` + box.innerHTML;
}

function updateUI() {
    document.getElementById("m-money").innerText = Math.floor(state.money).toLocaleString();
    document.getElementById("m-rep").innerText = state.rep;
    document.getElementById("m-garage").innerText = `${state.garage.length}/${state.maxGarage}`;
    document.getElementById("m-btc").innerText = state.btc.toFixed(4);
    document.getElementById("rate-usd").innerText = state.rates.usd.toFixed(2);
    document.getElementById("rate-btc").innerText = state.rates.btc.toLocaleString();
    document.getElementById("loan-val").innerText = state.loan.toLocaleString();
    renderMarket();
    renderGarage();
}

// --- EKONOMÄ° ---
function economyTick() {
    state.rates.usd += (Math.random() * 0.2 - 0.1);
    state.rates.btc += (Math.random() * 20000 - 10000);
    
    if(state.loan > 0) state.loan += Math.floor(state.loan * 0.001); // Faiz iÅŸler
    
    if(Math.random() > 0.85) {
        const news = [
            "ğŸ“¢ SON DAKÄ°KA: Faiz kararÄ± piyasalarÄ± vurdu!",
            "ğŸ”¥ TOGG satÄ±ÅŸlarÄ±nda rekor kÄ±rÄ±ldÄ±!",
            "ğŸš“ Maliye, lÃ¼ks galericileri takibe aldÄ±!",
            "ğŸ’° Bitcoin rekor tazelemeye gidiyor!"
        ];
        document.getElementById("news-content").innerText = news[Math.floor(Math.random()*news.length)];
    }
    updateUI();
}

// --- MARKET Ä°ÅLEMLERÄ° ---
let marketItems = [];
function refreshMarket() {
    if(state.money < 2500) return;
    state.money -= 2500;
    marketItems = [];
    for(let i=0; i<3; i++) {
        let proto = CAR_MODELS[Math.floor(Math.random() * CAR_MODELS.length)];
        marketItems.push({
            ...proto,
            uId: Math.random().toString(36).substr(2, 5),
            price: Math.floor(proto.base * (0.85 + Math.random() * 0.4)),
            mod: 0
        });
    }
    updateUI();
}

function buyCar(uId) {
    const car = marketItems.find(c => c.uId === uId);
    if(state.money >= car.price && state.garage.length < state.maxGarage) {
        state.money -= car.price;
        state.garage.push(car);
        marketItems = marketItems.filter(c => c.uId !== uId);
        log(`${car.name} satÄ±n alÄ±ndÄ±.`);
        updateUI();
    } else {
        alert("Para yetersiz veya garaj dolu!");
    }
}

function sellCar(idx) {
    const car = state.garage[idx];
    let offer = Math.floor((car.price + (car.mod * 200000)) * (0.9 + Math.random() * 0.5));
    if(confirm(`${car.name} iÃ§in ${offer.toLocaleString()} TL teklif var. SatÄ±lsÄ±n mÄ±?`)) {
        state.money += offer;
        state.rep += car.makam ? 15 : 5;
        log(`${car.name} satÄ±ldÄ±. Kar: ${(offer - car.price).toLocaleString()} TL`);
        state.garage.splice(idx, 1);
        updateUI();
    }
}

function tuneCar(idx) {
    if(state.money >= 150000) {
        state.money -= 150000;
        state.garage[idx].mod += 1;
        log(`${state.garage[idx].name} modifiye edildi! DeÄŸeri arttÄ±.`);
        updateUI();
    }
}

// --- BANKA VE KRÄ°PTO ---
function takeLoan() {
    if(state.loan === 0) {
        state.loan = 500000;
        state.money += 500000;
        log("Bankadan 500.000 TL kredi Ã§ekildi. Faiz iÅŸliyor!");
        updateUI();
    }
}

function payLoan() {
    if(state.money >= 100000 && state.loan > 0) {
        state.money -= 100000;
        state.loan = Math.max(0, state.loan - 100000);
        updateUI();
    }
}

function tradeBtc(type) {
    if(type === 'buy' && state.money >= state.rates.btc * 0.1) {
        state.money -= state.rates.btc * 0.1;
        state.btc += 0.1;
    } else if (type === 'sell' && state.btc >= 0.1) {
        state.money += state.rates.btc * 0.1;
        state.btc -= 0.1;
    }
    updateUI();
}

// --- RENDER ---
function renderMarket() {
    const list = document.getElementById("market-list");
    list.innerHTML = marketItems.map(c => `
        <div class="car-card ${c.makam ? 'rarity-makam' : ''}">
            <div>${c.icon} <b>${c.name}</b><br><small>${c.makam ? 'Makam AracÄ±' : 'Standart'}</small></div>
            <div style="text-align:right">
                <div class="price">${c.price.toLocaleString()} TL</div>
                <button class="btn btn-buy" onclick="buyCar('${c.uId}')">SATIN AL</button>
            </div>
        </div>
    `).join('');
}

function renderGarage() {
    const list = document.getElementById("garage-list");
    document.getElementById("empty-garage").style.display = state.garage.length ? 'none' : 'block';
    list.innerHTML = state.garage.map((c, i) => `
        <div class="car-card">
            <div>${c.icon} <b>${c.name}</b> <span class="badge">Lv.${c.mod}</span><br>
            <small>Maliyet: ${c.price.toLocaleString()}</small></div>
            <div style="display:flex; gap:5px;">
                <button class="btn btn-mod" onclick="tuneCar(${i})">MODÄ°FÄ°YE</button>
                <button class="btn btn-sell" onclick="sellCar(${i})">SAT</button>
            </div>
        </div>
    `).join('');
}

// --- KAYIT SÄ°STEMÄ° ---
function saveGame() {
    localStorage.setItem('reis_galeri_save', JSON.stringify(state));
    log("Oyun baÅŸarÄ±yla kaydedildi.");
}

function loadGame() {
    const saved = localStorage.getItem('reis_galeri_save');
    if(saved) {
        state = JSON.parse(saved);
        log("Eski kayÄ±t yÃ¼klendi. Devam et Reis!");
    }
}

// --- HÄ°LE KODU ---
document.addEventListener('keypress', (e) => {
    if(e.key.toLowerCase() === 'r') {
        const code = prompt("GÄ°ZLÄ° KOD:");
        if(code === "saray60") {
            state.money += 60000000;
            state.rep = 1000;
            log("ğŸ’° MÄ°LLÄ° EKONOMÄ° PAKETÄ°: +60 Milyon TL!");
            updateUI();
        }
    }
});

init();
</script>
</body>
</html>
