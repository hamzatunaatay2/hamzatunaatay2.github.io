<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kral Galericilik SimÃ¼latÃ¶rÃ¼</title>
<style>
body{background:#1a1a1a;color:#fff;font-family:Segoe UI,sans-serif;padding:20px;text-align:center}
h1{color:#f1c40f}
.stats{display:flex;justify-content:space-around;background:#333;padding:15px;border-radius:10px;margin-bottom:15px}
.container{display:flex;gap:15px;justify-content:center;flex-wrap:wrap}
.panel{background:#2c3e50;padding:15px;border-radius:10px;width:45%;min-width:300px}
.car{background:#ecf0f1;color:#000;padding:10px;border-radius:6px;margin-bottom:8px}
button{padding:6px 12px;border:none;border-radius:5px;font-weight:bold;cursor:pointer;margin:3px}
.buy{background:#2ecc71}
.sell{background:#e67e22}
.exp{background:#3498db;color:#fff}
#log{background:#000;color:#0f0;height:150px;overflow:auto;margin-top:15px;padding:10px;font-family:monospace;text-align:left}
.rte{border-left:5px solid #e74c3c;background:#fdecea}
</style>
</head>

<body>

<h1>ğŸš— KRAL GALERÄ°CÄ°LÄ°K ğŸš—</h1>

<div class="stats">
  <span id="money"></span>
  <span id="rep"></span>
  <span id="lvl"></span>
</div>

<div class="container">
  <div class="panel">
    <h3>ğŸ“¢ PÄ°YASA</h3>
    <div id="market"></div>
    <button onclick="refresh()">ğŸ”„ Yenile (1.000 TL)</button>
  </div>

  <div class="panel">
    <h3>ğŸ  GARAJ</h3>
    <div id="garage"></div>
  </div>
</div>

<div id="log">Sisteme hoÅŸ geldin galerici...</div>

<script>
// ==== OYUN DEÄÄ°ÅKENLERÄ° ====
let money=500000, rep=10, lvl=1, xp=0;
let garage=[], market=[], cheatUsed=false;

// ==== ARAÃ‡ DB ====
const carDatabase=[
 {b:"TofaÅŸ",m:["Åahin","DoÄŸan SLX","Kartal"],p:250000},
 {b:"BMW",m:["3.20i","5.20d","M4"],p:2500000},
 {b:"Mercedes",m:["C180","E250","G63"],p:2800000},
 {b:"Audi",m:["A3","A6","RS6"],p:2600000},
 {b:"Toyota",m:["Corolla","Camry","Supra"],p:1200000},
 {b:"Porsche",m:["911","Cayenne"],p:6000000}
];
const years=[2019,2020,2021,2022,2023];
let cars=[];

// ==== 500+ ARAÃ‡ ====
carDatabase.forEach(b=>{
 b.m.forEach(m=>{
  years.forEach(y=>{
   let mul=1+((y-2019)*0.05);
   cars.push({name:`${b.b} ${m} (${y})`,base:Math.floor(b.p*mul)});
  });
 });
});
cars.sort(()=>Math.random()-0.5);

// ==== ELEMENTLER ====
const moneySpan=document.getElementById("money");
const repSpan=document.getElementById("rep");
const lvlSpan=document.getElementById("lvl");
const marketDiv=document.getElementById("market");
const garageDiv=document.getElementById("garage");
const logDiv=document.getElementById("log");

// ==== YARDIMCI ====
function log(msg, cls=""){
 logDiv.innerHTML=`<div class="${cls}">> ${msg}</div>`+logDiv.innerHTML;
}
function update(){
 moneySpan.innerText="ğŸ’° "+money.toLocaleString("tr-TR")+" TL";
 repSpan.innerText="â­ Ä°tibar %"+rep;
 lvlSpan.innerText="ğŸ† Seviye "+lvl;
 render();
}
function genCar(){
 let c=cars[Math.floor(Math.random()*cars.length)];
 let price=Math.floor(c.base*(0.8+Math.random()*0.4));
 return {id:Math.random(),name:c.name,price,real:Math.floor(price*(1.1+rep/200)),checked:false};
}

// ==== OYUN ====
function refresh(){
 if(money<1000){log("Paran yok.");return;}
 money-=1000; market=[];
 for(let i=0;i<4;i++) market.push(genCar());
 log("Piyasa yenilendi.");
 update();
}
function buy(id){
 let i=market.findIndex(x=>x.id===id), c=market[i];
 if(money<c.price){log("Paran yetmedi.");return;}
 money-=c.price; garage.push(c); market.splice(i,1);
 log(c.name+" satÄ±n alÄ±ndÄ±.");
 update();
}
function expert(id){
 let c=garage.find(x=>x.id===id);
 if(money<5000){log("Ekspertiz parasÄ± yok.");return;}
 money-=5000; c.checked=true;
 log(c.name+" gerÃ§ek deÄŸeri: "+c.real.toLocaleString()+" TL");
 update();
}
function sell(id){
 let i=garage.findIndex(x=>x.id===id), c=garage[i];
 let offer=c.checked?Math.floor(c.real*(0.9+Math.random()*0.2))
                    :Math.floor(c.price*(0.6+Math.random()*0.3));
 if(confirm(c.name+"\nTeklif: "+offer.toLocaleString()+" TL")){
  money+=offer;
  let kar=offer-c.price; rep+=kar>0?2:-1; xp+=10;
  if(xp>=50){lvl++;xp=0;log("ğŸ”¥ SEVÄ°YE ATLADIN!");}
  garage.splice(i,1);
  log(c.name+" satÄ±ldÄ±. Kar: "+kar.toLocaleString()+" TL");
  update();
 }
}
function render(){
 marketDiv.innerHTML=""; garageDiv.innerHTML="";
 market.forEach(c=>{
  marketDiv.innerHTML+=`
   <div class="car">
    <b>${c.name}</b><br>${c.price.toLocaleString()} TL<br>
    <button class="buy" onclick="buy(${c.id})">AL</button>
   </div>`;
 });
 if(!garage.length) garageDiv.innerHTML="Garaj boÅŸ.";
 garage.forEach(c=>{
  garageDiv.innerHTML+=`
   <div class="car">
    <b>${c.name}</b><br>Maliyet: ${c.price.toLocaleString()} TL<br>
    <button class="exp" onclick="expert(${c.id})">Ekspertiz</button>
    <button class="sell" onclick="sell(${c.id})">SAT</button>
   </div>`;
 });
}

// ==== HÄ°LE ====
document.addEventListener("keydown",e=>{
 if(e.key==="Enter"){
  let code=prompt("Hile kodunu gir:");
  if(code==="kralgalerici20m"&&!cheatUsed){
   money+=20000000; cheatUsed=true;
   log("ğŸ’£ HÄ°LE AKTÄ°F! 20.000.000 TL eklendi.");
   update();
  }else if(cheatUsed){log("âŒ Hile zaten kullanÄ±ldÄ±.");}
  else{log("âŒ GeÃ§ersiz kod.");}
 }
});

// ==== RTE MODÃœLÃœ (VERGÄ° + AF) ====
function rteGeliyor(){
 let oran=Math.floor(Math.random()*11)+5; // %5-15
 let kes=Math.floor(money*oran/100);
 if(kes<=0) return;
 money-=kes;
 const soz=[
  "ğŸ‡¹ğŸ‡· RTE: Galerici kardeÅŸim, katkÄ± payÄ± zamanÄ±.",
  "ğŸ‡¹ğŸ‡· RTE: BÃ¼yÃ¼k projeler iÃ§in kÃ¼Ã§Ã¼k bir destek.",
  "ğŸ‡¹ğŸ‡· RTE: Hep birlikte bÃ¼yÃ¼yoruz."
 ];
 log(`${soz[Math.floor(Math.random()*soz.length)]}`, "rte");
 log(`ğŸ§¾ Vergi kesildi: ${kes.toLocaleString("tr-TR")} TL (%${oran})`, "rte");

 // %20 ihtimalle AF
 if(Math.random()<0.2){
  let iade=Math.floor(kes*0.3);
  money+=iade;
  log(`ğŸ•Šï¸ Vergi affÄ±! ${iade.toLocaleString("tr-TR")} TL iade.`, "rte");
 }
 update();
}
// Her 60 sn RTE gelsin
setInterval(rteGeliyor,60000);

// ==== BAÅLAT ====
refresh(); update();
</script>

</body>
</html>
