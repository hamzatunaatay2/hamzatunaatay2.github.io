<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REÄ°S GALERÄ°CÄ°LÄ°K: BARON VE BORSA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --main: #c0392b; --bg: #05070a; --card: #111827; --text: #f3f4f6; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 10px; overflow: hidden; }
        .grid { display: grid; grid-template-columns: 380px 1fr 380px; gap: 15px; height: 98vh; }
        .panel { background: var(--card); border-radius: 12px; padding: 15px; border: 1px solid #1f2937; display: flex; flex-direction: column; overflow: hidden; }
        
        /* BARON STATS */
        .baron-stats { display: flex; justify-content: space-around; background: #1f2937; padding: 12px; border-radius: 10px; border-bottom: 4px solid var(--main); margin-bottom: 10px; }
        .wanted { color: #e74c3c; font-weight: bold; animation: blink 1s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        /* BORSA AREA */
        .stock-item { background: #0b0f19; padding: 8px; margin-bottom: 5px; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; border-left: 3px solid #27ae60; }
        
        /* CHAT */
        .ai-chat { flex: 1; overflow-y: auto; background: #000; padding: 10px; font-family: 'Consolas', monospace; font-size: 0.8rem; border: 1px solid #374151; }
        .bot-msg { margin-bottom: 8px; border-left: 2px solid #555; padding-left: 5px; }

        /* BUTTONS */
        .btn { border: none; padding: 8px; border-radius: 5px; cursor: pointer; font-weight: bold; color: white; transition: 0.2s; }
        .btn-shoot { background: #c0392b; font-size: 0.7rem; }
        .btn-buy { background: #27ae60; width: 100%; }
        
        .car-card { background: #1f2937; padding: 10px; border-radius: 8px; margin-bottom: 10px; border: 1px solid #374151; }
        .price { color: #2ecc71; font-weight: bold; }
    </style>
</head>
<body>

<div class="baron-stats">
    <div>ğŸ’° PARA: <span id="m-money" style="color:#2ecc71">750.000</span> TL</div>
    <div>ğŸ‘‘ Ä°TÄ°BAR: <span id="m-rep" style="color:#f1c40f">0</span></div>
    <div>ğŸš¨ ARANMA: <span id="m-wanted" class="wanted">Sakin</span></div>
</div>

<div class="grid">
    <div class="panel">
        <h2 style="color:#2ecc71"><i class="fas fa-chart-line"></i> BORS-A (SANAYÄ° ENDEKS)</h2>
        <div id="stock-market"></div>
        <hr>
        <h2><i class="fas fa-skull"></i> SANAYÄ° RACON CHAT</h2>
        <div class="ai-chat" id="chat-box"></div>
        <div style="display:flex; gap:5px; margin-top:5px;">
            <input type="text" id="user-msg" placeholder="Raconunu kes aq..." style="flex:1; background:#000; color:white; border:1px solid #334155; padding:8px;" onkeypress="if(event.key==='Enter') sendMessage()">
            <button class="btn" onclick="sendMessage()" style="background:var(--main)">Yolla</button>
        </div>
    </div>

    <div class="panel" style="overflow-y: auto;">
        <h2><i class="fas fa-car"></i> GALERÄ° VE PAZARLIK</h2>
        <div id="market-list"></div>
        <hr>
        <h2><i class="fas fa-warehouse"></i> GARAJIM</h2>
        <div id="garage-list"></div>
    </div>

    <div class="panel">
        <h2><i class="fas fa-users"></i> HEDEFTEKÄ°LER</h2>
        <div id="bot-list"></div>
        
        <div style="margin-top:auto; background:#c0392b33; padding:15px; border-radius:10px; border:1px solid var(--main);">
            <h3>ğŸ¢ BARON OPERASYONU</h3>
            <p style="font-size:0.8rem;">Ä°tibarÄ±n arttÄ±kÃ§a vergi Ã¶demezsin, ama polis baskÄ±nÄ±na hazÄ±r ol!</p>
            <button class="btn" style="background:#000; width:100%;" onclick="saveGame()">LOCAL KAYIT AL</button>
        </div>
    </div>
</div>

<script>
let state = { money: 750000, rep: 0, wanted: 0, garage: [], stocks: { reisGyo: 0, sanayiAs: 0 } };
let stockPrices = { reisGyo: 150, sanayiAs: 450 };
const botPool = [
    { name: "Ã‡akal Nuri", money: 500000, alive: true },
    { name: "SÃ¼lÃ¼n Osman", money: 1200000, alive: true },
    { name: "Kel Mahmut", money: 200000, alive: true },
    { name: "Baron Erol", money: 5000000, alive: true }
];

function init() {
    renderStocks();
    renderBots();
    setInterval(updatePrices, 4000);
    setInterval(botBanter, 7000);
    setInterval(policeCheck, 15000);
    refreshMarket();
    updateUI();
    addChatMsg("SÄ°STEM", "Piyasaya girildi. Raconun kadar yaÅŸarsÄ±n aq.", "color:#95a5a6");
}

// --- BORSA SÄ°STEMÄ° ---
function updatePrices() {
    stockPrices.reisGyo += (Math.random()*10 - 5);
    stockPrices.sanayiAs += (Math.random()*30 - 15);
    renderStocks();
    updateUI();
}

function tradeStock(name, type) {
    let price = Math.floor(stockPrices[name]);
    if(type === 'buy' && state.money >= price) {
        state.money -= price;
        state.stocks[name]++;
    } else if(type === 'sell' && state.stocks[name] > 0) {
        state.money += price;
        state.stocks[name]--;
    }
    updateUI();
}

// --- ADAM VURMA MEKANÄ°ÄÄ° ---
function shootBot(idx) {
    const bot = botPool[idx];
    if(!bot.alive) return;

    let success = Math.random() > 0.3;
    if(success) {
        let loot = Math.floor(bot.money * 0.2);
        state.money += loot;
        state.rep += 50;
        state.wanted += 20;
        bot.alive = false;
        addChatMsg("SÄ°STEM", `${bot.name} paketlendi! LeÅŸten ${loot.toLocaleString()} TL Ã§Ä±ktÄ±.`, "color:#e74c3c; font-weight:bold;");
    } else {
        state.wanted += 10;
        addChatMsg(bot.name, "Iska geÃ§tin aq evladÄ±! Polisi arÄ±yorum!", "color:#e67e22");
    }
    renderBots();
    updateUI();
}

function policeCheck() {
    if(state.wanted > 50) {
        if(Math.random() * 100 < state.wanted) {
            alert("ğŸš¨ POLÄ°S BASKINI! BÃ¼tÃ¼n mallarÄ±na el konuldu!");
            state.money = Math.floor(state.money / 2);
            state.wanted = 0;
            state.rep = 0;
            updateUI();
        }
    }
    if(state.wanted > 0) state.wanted -= 2;
}

// --- CHAT VE UI ---
function botBanter() {
    const aliveBots = botPool.filter(b => b.alive);
    if(aliveBots.length === 0) return;
    const bot = aliveBots[Math.floor(Math.random()*aliveBots.length)];
    const msgs = ["Dolar artÄ±yor, Reis GYO hissesi alÄ±n!", "Kim lan o sanayide ateÅŸ eden?", "Galericilik bitti artÄ±k baronluk devri baÅŸladÄ±.", "HÃ¼seyin'i paketlemiÅŸler diyolar, doÄŸru mu aq?"];
    addChatMsg(bot.name, msgs[Math.floor(Math.random()*msgs.length)], "color:#3498db");
}

function sendMessage() {
    const input = document.getElementById("user-msg");
    const msg = input.value;
    if(!msg) return;
    addChatMsg("SEN (BARON)", msg, "color:#f1c40f");
    input.value = "";
    
    setTimeout(() => {
        const aliveBots = botPool.filter(b => b.alive);
        if(aliveBots.length > 0) {
            addChatMsg(aliveBots[0].name, "Racon kesme aq, icraat yap gÃ¶relim.", "color:#3498db");
        }
    }, 1000);
}

function addChatMsg(user, text, style) {
    const box = document.getElementById("chat-box");
    box.innerHTML += `<div class="bot-msg" style="${style}"><b>${user}:</b> ${text}</div>`;
    box.scrollTop = box.scrollHeight;
}

// --- RENDERLAR ---
function renderStocks() {
    document.getElementById("stock-market").innerHTML = `
        <div class="stock-item"><span>REÄ°S GYO: ${Math.floor(stockPrices.reisGyo)} TL</span> 
            <div><button class="btn" style="background:green" onclick="tradeStock('reisGyo','buy')">AL</button>
            <button class="btn" style="background:red" onclick="tradeStock('reisGyo','sell')">SAT</button></div>
        </div>
        <div class="stock-item"><span>SANAYÄ° A.Å: ${Math.floor(stockPrices.sanayiAs)} TL</span> 
            <div><button class="btn" style="background:green" onclick="tradeStock('sanayiAs','buy')">AL</button>
            <button class="btn" style="background:red" onclick="tradeStock('sanayiAs','sell')">SAT</button></div>
        </div>
        <div style="font-size:0.7rem; padding:5px;">PortfÃ¶y: ${state.stocks.reisGyo} GYO / ${state.stocks.sanayiAs} SANAYÄ°</div>
    `;
}

function renderBots() {
    document.getElementById("bot-list").innerHTML = botPool.map((b, i) => `
        <div class="stock-item" style="border-left-color:${b.alive ? '#c0392b' : '#333'}">
            <span>${b.alive ? 'ğŸ‘¤' : 'ğŸ’€'} ${b.name}</span>
            ${b.alive ? `<button class="btn btn-shoot" onclick="shootBot(${i})">PAKETLE ğŸ”«</button>` : '<span>MEFTA</span>'}
        </div>
    `).join('');
}

function refreshMarket() {
    const cars = [{n:"TofaÅŸ", p:250000}, {n:"Passat", p:1800000}, {n:"S600", p:12000000}];
    document.getElementById("market-list").innerHTML = Array.from({length:2}, () => {
        const c = cars[Math.floor(Math.random()*cars.length)];
        const price = Math.floor(c.p * (0.8 + Math.random()*0.4));
        return `<div class="car-card"><b>${c.n}</b> - <span class="price">${price.toLocaleString()} TL</span><br>
        <button class="btn btn-buy" style="margin-top:5px;" onclick="buyCar('${c.n}', ${price})">HESAPSIZ AL</button></div>`;
    }).join('');
}

function buyCar(n, p) { if(state.money >= p) { state.money -= p; state.garage.push({n,p}); updateUI(); } }

function updateUI() {
    document.getElementById("m-money").innerText = Math.floor(state.money).toLocaleString();
    document.getElementById("m-rep").innerText = state.rep;
    document.getElementById("m-wanted").innerText = state.wanted > 70 ? "ğŸ”¥ ARANIYOR" : (state.wanted > 20 ? "âš ï¸ TAKÄ°PTE" : "Sakin");
    document.getElementById("m-garage").innerText = state.garage.length + " / 6";
    
    document.getElementById("garage-list").innerHTML = state.garage.map((c, i) => `
        <div class="car-card" style="border-left:4px solid gold"><b>${c.n}</b> - <button class="btn" style="background:#f39c12; font-size:0.6rem" onclick="sellCar(${i})">SAT</button></div>
    `).join('');
}

function sellCar(idx) {
    state.money += Math.floor(state.garage[idx].p * 1.2);
    state.garage.splice(idx, 1);
    updateUI();
}

function saveGame() { localStorage.setItem('baron_save', JSON.stringify(state)); alert("KayÄ±t BaÅŸarÄ±lÄ± Baron!"); }

init();
</script>
</body>
</html>
