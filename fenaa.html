<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Galeri Sim</title>
<style>
body{margin:0;background:#111;color:#fff;font-family:Arial}
header{background:#1a1a1a;padding:10px;text-align:center}
button{padding:6px;border:0;border-radius:6px;cursor:pointer}
.grid{display:grid;grid-template-columns:repeat(auto-fill,160px);gap:10px;padding:10px}
.card{background:#222;border-radius:8px;overflow:hidden}
.card img{width:100%;height:90px;object-fit:cover}
.c{padding:6px;font-size:14px}
.buy{background:#2ecc71}
.sell{background:#e67e22}
.up{background:#9b59b6}
</style>
</head>
<body>

<header>
<h2 id="galeri">HAMZA GALERƒ∞</h2>
<div>üí∞ <b id="para"></b> TL | ‚≠ê Seviye <b id="lvl"></b></div>
<button class="up" onclick="upgrade()">Seviye Y√ºkselt</button>
</header>

<h3 style="padding-left:10px">NPC</h3>
<div id="npc" class="grid"></div>

<h3 style="padding-left:10px">Garaj</h3>
<div id="garaj" class="grid"></div>

<script>
let para=200000;
let seviye=1;
let upFiyat=150000;

document.getElementById("galeri").onclick=()=>{
  const ad=prompt("Galeri adƒ±:");
  if(ad) document.getElementById("galeri").innerText=ad;
};

const arabalar={
1:[
 {ad:"Tofa≈ü ≈ûahin",f:40000,img:"https://upload.wikimedia.org/wikipedia/commons/6/6a/Tofas_Dogan.jpg"},
 {ad:"Renault 9",f:50000,img:"https://upload.wikimedia.org/wikipedia/commons/1/14/Renault_9.jpg"}
],
2:[
 {ad:"Fiat Egea",f:90000,img:"https://upload.wikimedia.org/wikipedia/commons/9/92/Fiat_Egea.jpg"},
 {ad:"Megane",f:110000,img:"https://upload.wikimedia.org/wikipedia/commons/4/4e/Renault_Megane.jpg"}
],
3:[
 {ad:"BMW 320i",f:200000,img:"https://upload.wikimedia.org/wikipedia/commons/8/8e/BMW_320i.jpg"}
]
};

let npc=[];
let garaj=[];

function npcDoldur(){
  npc=[];
  let havuz=[];
  for(let i=1;i<=seviye;i++) havuz=havuz.concat(arabalar[i]||[]);
  for(let i=0;i<3;i++) npc.push({...havuz[Math.floor(Math.random()*havuz.length)]});
}

function render(){
document.getElementById("para").innerText=para;
document.getElementById("lvl").innerText=seviye;

npcEl=document.getElementById("npc");
npcEl.innerHTML="";
npc.forEach((a,i)=>{
 npcEl.innerHTML+=`
 <div class="card">
 <img src="${a.img}">
 <div class="c">${a.ad}<br>${a.f} TL
 <button class="buy" onclick="al(${i})">Al</button>
 </div></div>`;
});

g=document.getElementById("garaj");
g.innerHTML="";
garaj.forEach((a,i)=>{
 g.innerHTML+=`
 <div class="card">
 <img src="${a.img}">
 <div class="c">${a.ad}<br>${Math.floor(a.f*1.3)} TL
 <button class="sell" onclick="sat(${i})">Sat</button>
 </div></div>`;
});
}

function al(i){
if(para<npc[i].f) return alert("Para yok");
para-=npc[i].f;
garaj.push(npc[i]);
npc.splice(i,1);
npcDoldur();
render();
}

function sat(i){
para+=Math.floor(garaj[i].f*1.3);
garaj.splice(i,1);
npcDoldur();
render();
}

function upgrade(){
if(para<upFiyat) return alert("Para yok");
para-=upFiyat;
seviye++;
upFiyat=Math.floor(upFiyat*1.7);
npcDoldur();
render();
}

npcDoldur();
render();
</script>
</body>
</html>
