<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Mahalle Galerisi Sim</title>
<style>
body{margin:0;font-family:Arial;background:#2b2b2b;color:#fff}
header{background:#1a1a1a;padding:10px;text-align:center}
.main{display:grid;grid-template-columns:260px 1fr 320px;gap:10px;padding:10px}
.panel{background:#1f1f1f;border-radius:10px;padding:10px}
.card{background:#2c2c2c;border-radius:8px;padding:8px;margin-bottom:8px}
img{width:100%;border-radius:6px}
button{padding:6px 10px;border:none;border-radius:6px;cursor:pointer;margin-top:5px}
.buy{background:#27ae60}
.sell{background:#e67e22}
.small{font-size:13px;color:#ccc}
input{width:100%;padding:6px;border-radius:6px;border:none;margin-top:4px}
</style>
</head>

<body>

<header>
<h1 id="baslik">ğŸ˜ï¸ Galeri</h1>
<div>ğŸ’° <b id="para"></b> TL | ğŸ“… GÃ¼n <b id="gun"></b> | â­ Seviye <b id="seviye"></b></div>
</header>

<div class="main">

<div class="panel">
<h3>ğŸ‘¤ Galerici</h3>
<input id="galeriAdi" placeholder="Galeri adÄ±">
<button onclick="galeriAdiKaydet()">Kaydet</button>

<h3>ğŸ—ºï¸ BÃ¶lge</h3>
<button onclick="bolgeDegis()">Mahalle / Sanayi</button>
<p class="small" id="bolge"></p>

<h3>ğŸ“ˆ Piyasa</h3>
<p class="small" id="piyasa"></p>
<button onclick="yeniGun()">Yeni GÃ¼n</button>

<h3>â¬†ï¸ Galeri Upgrade</h3>
<button onclick="upgrade()">Upgrade (1.000.000 TL)</button>
</div>

<div class="panel">
<h3>ğŸš— Senin Galerin</h3>
<div id="garaj"></div>
</div>

<div class="panel">
<h3>ğŸ¤ NPC Galerisi</h3>
<div id="npc"></div>
</div>

</div>

<script>
let oyun={
 galeriAdi:"Oto Galerisi",
 para:5000000,
 gun:1,
 piyasa:1,
 seviye:1,
 bolge:"Mahalle",
 garaj:[]
};

const arabalar={
 Mahalle:[
  {ad:"BMW 320i",f:1200000,img:"https://raw.githubusercontent.com/github/explore/main/topics/html/html.png"},
  {ad:"Audi A4",f:1300000,img:"https://raw.githubusercontent.com/github/explore/main/topics/html/html.png"}
 ],
 Sanayi:[
  {ad:"Mercedes C200",f:1600000,img:"https://raw.githubusercontent.com/github/explore/main/topics/html/html.png"},
  {ad:"BMW M4",f:2800000,img:"https://raw.githubusercontent.com/github/explore/main/topics/html/html.png"}
 ]
};

function kaydet(){localStorage.setItem("galeri",JSON.stringify(oyun))}
function yukle(){
 let d=localStorage.getItem("galeri");
 if(d)oyun=JSON.parse(d);
 if(oyun.garaj.length==0)oyun.garaj=[...arabalar.Mahalle];
}

function render(){
 document.getElementById("baslik").innerText="ğŸ˜ï¸ "+oyun.galeriAdi;
 document.getElementById("para").innerText=oyun.para.toLocaleString("tr-TR");
 document.getElementById("gun").innerText=oyun.gun;
 document.getElementById("seviye").innerText=oyun.seviye;
 document.getElementById("bolge").innerText=oyun.bolge;
 document.getElementById("piyasa").innerText=oyun.piyasa>1?"ğŸ“ˆ YÃ¼kseliÅŸ":"ğŸ“‰ DÃ¼ÅŸÃ¼ÅŸ";

 let g=document.getElementById("garaj"); g.innerHTML="";
 oyun.garaj.forEach((a,i)=>{
  g.innerHTML+=`
   <div class="card">
    <b>${a.ad}</b>
    <div class="small">Fiyat ${(a.f*oyun.piyasa).toLocaleString("tr-TR")} TL</div>
    <button class="sell" onclick="sat(${i})">NPCâ€™ye Sat</button>
   </div>`;
 });

 let n=document.getElementById("npc"); n.innerHTML="";
 arabalar[oyun.bolge].forEach(a=>{
  n.innerHTML+=`
   <div class="card">
    <b>${a.ad}</b>
    <div class="small">NPC Fiyat ${a.f.toLocaleString("tr-TR")} TL</div>
    <button class="buy" onclick="al(${a.f},'${a.ad}')">NPCâ€™den Al</button>
   </div>`;
 });
}

function al(f,ad){
 if(oyun.para<f)return alert("Para yok");
 oyun.para-=f;
 oyun.garaj.push({ad:ad,f:f});
 kaydet(); render();
}

function sat(i){
 let pazarlik=(Math.random()*0.2-0.1);
 let kazanc=Math.floor(oyun.garaj[i].f*oyun.piyasa*(1+pazarlik));
 oyun.para+=kazanc;
 oyun.garaj.splice(i,1);
 kaydet(); render();
}

function yeniGun(){
 oyun.gun++;
 oyun.piyasa=(Math.random()*0.4+0.8).toFixed(2);
 kaydet(); render();
}

function upgrade(){
 if(oyun.para<1000000)return alert("Para yok");
 oyun.para-=1000000;
 oyun.seviye++;
 kaydet(); render();
}

function bolgeDegis(){
 oyun.bolge=oyun.bolge=="Mahalle"?"Sanayi":"Mahalle";
 kaydet(); render();
}

function galeriAdiKaydet(){
 let v=document.getElementById("galeriAdi").value.trim();
 if(v){oyun.galeriAdi=v; kaydet(); render();}
}

yukle(); render();
</script>

</body>
</html>
