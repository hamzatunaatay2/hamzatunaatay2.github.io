<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Yerli ve Milli Galericilik - TOGG Edition</title>
<style>
body{
    background:#1a1a1a;
    color:#fff;
    font-family:Segoe UI, sans-serif;
    padding:20px;
    text-align:center;
    user-select: none;
}
h1{color:#1abc9c; text-shadow: 2px 2px #000;}
.stats{
    display:flex;
    justify-content:space-around;
    background:#34495e;
    padding:15px;
    border-radius:10px;
    margin-bottom:15px;
    border: 2px solid #1abc9c;
    font-weight: bold;
    font-size: 1.1em;
}
.container{
    display:flex;
    gap:15px;
    justify-content:center;
    flex-wrap:wrap
}
.panel{
    background:#2c3e50;
    padding:15px;
    border-radius:10px;
    width:45%;
    min-width:300px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}
.car{
    background:#ecf0f1;
    color:#2c3e50;
    padding:10px;
    border-radius:6px;
    margin-bottom:8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-left: 5px solid #bdc3c7;
}
.car.togg { border-left: 5px solid #1abc9c; background: #e8f8f5; }
.car.makam { border-left: 5px solid #e74c3c; background: #fadbd8; font-weight: bold; }

button{
    padding:8px 15px;
    border:none;
    border-radius:5px;
    font-weight:bold;
    cursor:pointer;
    margin-left: 5px;
    transition: 0.2s;
}
button:hover { transform: scale(1.05); }
.buy{background:#27ae60; color:white}
.sell{background:#d35400; color:white}
.exp{background:#2980b9;color:#fff}
.refresh-btn { width: 100%; background: #8e44ad; color: white; margin-top: 10px; padding: 10px; }

#log{
    background:#000;
    color:#0f0;
    height:150px;
    overflow:auto;
    margin-top:15px;
    padding:10px;
    font-family:monospace;
    border: 1px solid #333;
    text-align: left;
}
</style>
</head>

<body>

<h1>ğŸ‡¹ğŸ‡· YERLÄ° VE MÄ°LLÄ° GALERÄ°CÄ°LÄ°K ğŸ‡¹ğŸ‡·</h1>

<div class="stats">
    <span id="money"></span>
    <span id="rep"></span>
    <span id="lvl"></span>
</div>

<div class="container">
    <div class="panel">
        <h3>ğŸ“¢ PÄ°YASA</h3>
        <div id="market"></div>
        <button class="refresh-btn" onclick="refresh()">ğŸ”„ PiyasayÄ± Yenile (1.000 TL)</button>
    </div>

    <div class="panel">
        <h3>ğŸ  GARAJIM</h3>
        <div id="garage"></div>
    </div>
</div>

<div id="log">Sisteme hoÅŸ geldin. Togg sipariÅŸleri aÃ§Ä±k...</div>

<script>
// ==== OYUN DEÄÄ°ÅKENLERÄ° ====
let money = 750000; // BaÅŸlangÄ±Ã§ parasÄ± biraz arttÄ±
let rep = 10;
let lvl = 1;
let xp = 0;
let garage = [];
let market = [];
let cheatUsed = false;

// ==== ARAÃ‡ VERÄ°TABANI ====
const carDatabase = [
    // Ã–ZEL ARAÃ‡LAR (TOGG ve MAKAM)
    { b: "TOGG", m: ["T10X V2 Uzun Menzil", "T10F Sedan", "T8X", "T10X 100. YÄ±l Ã–zel", "C-SUV Launch Edition"], p: 1950000, type: "togg" },
    { b: "MAKAM", m: ["Mercedes S600 Guard (ZÄ±rhlÄ±)", "TOGG T10X (RTE Ä°mzalÄ±)", "Maybach S680 (Konvoy)", "Cadillac (BaÅŸkan)"], p: 15000000, type: "makam" },
    
    // STANDART ARAÃ‡LAR
    { b: "TofaÅŸ", m: ["Åahin", "DoÄŸan SLX", "Kartal", "SerÃ§e"], p: 250000, type: "normal" },
    { b: "BMW", m: ["3.20i", "5.20d", "M3", "M4", "7.40", "X5", "i8"], p: 2500000, type: "normal" },
    { b: "Mercedes", m: ["C180", "E250", "S400", "G63 AMG", "CLA 200", "Vito"], p: 2800000, type: "normal" },
    { b: "VW", m: ["Passat", "Golf", "Polo", "Arteon", "Tiguan", "Caddy"], p: 1400000, type: "normal" },
    { b: "Fiat", m: ["Egea", "Linea", "Doblo", "Fiorino", "Freemont"], p: 700000, type: "normal" },
    { b: "Renault", m: ["Clio", "Megane", "Symbol", "Taliant", "Kadjar"], p: 800000, type: "normal" },
    { b: "Honda", m: ["Civic", "City", "Accord", "CR-V", "Jazz", "S2000"], p: 1100000, type: "normal" },
    { b: "Toyota", m: ["Corolla", "Yaris", "Camry", "C-HR", "RAV4", "Supra"], p: 1200000, type: "normal" },
    { b: "Ford", m: ["Focus", "Fiesta", "Mondeo", "Kuga", "Ranger", "Mustang"], p: 1300000, type: "normal" },
    { b: "Hyundai", m: ["i20", "Accent Blue", "Elantra", "Tucson", "Bayon"], p: 900000, type: "normal" },
    { b: "Peugeot", m: ["208", "308", "3008", "508", "2008"], p: 1250000, type: "normal" },
    { b: "Citroen", m: ["C3", "C4", "C5 Aircross", "C-Elysee", "Ami"], p: 850000, type: "normal" },
    { b: "Opel", m: ["Corsa", "Astra", "Insignia", "Mokka", "Crossland"], p: 1150000, type: "normal" },
    { b: "Volvo", m: ["S60", "S90", "XC40", "XC60", "XC90"], p: 3000000, type: "normal" },
    { b: "Nissan", m: ["Micra", "Qashqai", "Juke", "X-Trail", "Navara", "GTR"], p: 1350000, type: "normal" },
    { b: "Skoda", m: ["Octavia", "Superb", "Fabia", "Kamiq", "Kodiaq"], p: 1450000, type: "normal" },
    { b: "Dacia", m: ["Duster", "Sandero", "Logan", "Jogger", "Spring"], p: 850000, type: "normal" },
    { b: "Land Rover", m: ["Range Rover", "Evoque", "Defender", "Discovery"], p: 4500000, type: "normal" },
    { b: "Porsche", m: ["Taycan", "Panamera", "Cayenne", "Macan", "911"], p: 6000000, type: "normal" }
];

const years = [2018, 2019, 2020, 2021, 2022, 2023, 2024];
let cars = [];

// Otomatik Liste OluÅŸturucu
carDatabase.forEach(brand => {
    brand.m.forEach(model => {
        years.forEach(year => {
            // TOGG ve Makam araÃ§larÄ± hep yeni model olsun
            if ((brand.b === "TOGG" || brand.b === "MAKAM") && year < 2023) return;

            let yearMultiplier = 1 + ((year - 2018) * 0.05);
            let finalName = `${brand.b} ${model} (${year})`;
            let finalPrice = Math.floor(brand.p * yearMultiplier);
            
            cars.push({name: finalName, base: finalPrice, type: brand.type});
        });
    });
});

// Listeyi karÄ±ÅŸtÄ±r
cars.sort(() => Math.random() - 0.5);

// ==== ELEMENTLER ====
const moneySpan = document.getElementById("money");
const repSpan = document.getElementById("rep");
const lvlSpan = document.getElementById("lvl");
const marketDiv = document.getElementById("market");
const garageDiv = document.getElementById("garage");
const logDiv = document.getElementById("log");

// ==== FONKSÄ°YONLAR ====
function log(msg){
    logDiv.innerHTML = "> " + msg + "<br>" + logDiv.innerHTML;
}

function update(){
    moneySpan.innerText = "ğŸ’° " + money.toLocaleString("tr-TR") + " TL";
    repSpan.innerText = "â­ Ä°tibar %" + rep;
    lvlSpan.innerText = "ğŸ† Seviye " + lvl;
    render();
}

function genCar(){
    // Makam araÃ§larÄ± daha az Ã§Ä±ksÄ±n
    let chance = Math.random();
    let pool = cars;
    
    if(chance > 0.98) { // %2 ihtimalle Makam aracÄ±
        pool = cars.filter(c => c.type === "makam");
    } else if (chance > 0.85) { // %13 ihtimalle TOGG
        pool = cars.filter(c => c.type === "togg");
    }

    if(pool.length === 0) pool = cars; // Hata Ã¶nleyici

    let c = pool[Math.floor(Math.random()*pool.length)];
    let price = Math.floor(c.base * (0.8 + Math.random()*0.4));
    
    return {
        id: Math.random(),
        name: c.name,
        price: price,
        real: Math.floor(price * (1.1 + rep/200)),
        type: c.type,
        checked: false
    };
}

function refresh(){
    if(money < 1000){
        log("âŒ Kasa boÅŸ, piyasayÄ± yenileyemiyorsun.");
        return;
    }
    money -= 1000;
    market = [];
    for(let i=0;i<5;i++) market.push(genCar()); // ArtÄ±k 5 araba geliyor
    log("Piyasa yenilendi. Yeni araÃ§lar dÃ¼ÅŸtÃ¼.");
    update();
}

function buy(id){
    let i = market.findIndex(x=>x.id===id);
    let car = market[i];
    if(money < car.price){
        log("âŒ Paran yetmiyor. Kredi Ã§ekmeyi dene (Åaka, Ã§alÄ±ÅŸ kazan).");
        return;
    }
    money -= car.price;
    garage.push(car);
    market.splice(i,1);
    
    if(car.type === "togg") log("ğŸ‡¹ğŸ‡· HayÄ±rlÄ± olsun! Yerli ve milli gururumuz garajda.");
    else if(car.type === "makam") log("ğŸ˜ Reis'in emaneti garajda. Korumalar kapÄ±da.");
    else log(`âœ… ${car.name} satÄ±n alÄ±ndÄ±.`);
    
    update();
}

function expert(id){
    let car = garage.find(x=>x.id===id);
    if(money < 5000){
        log("Ekspertiz parasÄ± yok.");
        return;
    }
    money -= 5000;
    car.checked = true;
    log(`ğŸ” ${car.name} ekspertiz sonucu: ${car.real.toLocaleString()} TL eder.`);
    update();
}

function sell(id){
    let i = garage.findIndex(x=>x.id===id);
    let car = garage[i];
    
    // SatÄ±ÅŸ teklifi hesaplama
    let offer = car.checked
        ? Math.floor(car.real * (0.9 + Math.random()*0.2))
        : Math.floor(car.price * (0.6 + Math.random()*0.3));

    // Makam araÃ§larÄ± daha zor satÄ±lÄ±r ama iyi para bÄ±rakÄ±r
    if(car.type === "makam" && Math.random() > 0.5) {
        log("âŒ MÃ¼ÅŸteri korktu, 'Beni iÃ§eri alÄ±rlar' dedi ve kaÃ§tÄ±.");
        return;
    }

    if(confirm(`${car.name}\n\nMÃ¼ÅŸteri Teklifi: ${offer.toLocaleString()} TL\n\nSatÄ±yor musun?`)){
        money += offer;
        let kar = offer - car.price;
        rep += kar > 0 ? 2 : -1;
        xp += 10;

        if(xp >= 50){
            lvl++;
            xp = 0;
            log("ğŸ†™ SEVÄ°YE ATLADIN! ArtÄ±k daha iyi galerisisin.");
        }

        garage.splice(i,1);
        if(kar > 0) log(`ğŸ’° ${car.name} satÄ±ldÄ±. Temiz kÃ¢r: ${kar.toLocaleString()} TL`);
        else log(`ğŸ“‰ ${car.name} zararÄ±na gitti.`);
        
        update();
    }
}

function render(){
    marketDiv.innerHTML = "";
    garageDiv.innerHTML = "";

    market.forEach(c=>{
        let btnClass = c.price > money ? "buy" : "buy"; // Stil aynÄ± kalsÄ±n
        let styleClass = c.type === "togg" ? "togg" : (c.type === "makam" ? "makam" : "car");
        
        marketDiv.innerHTML += `
        <div class="${styleClass}">
            <div style="text-align:left">
                <b>${c.name}</b><br>
                <small>${c.price.toLocaleString()} TL</small>
            </div>
            <button class="buy" onclick="buy(${c.id})">AL</button>
        </div>`;
    });

    if(garage.length === 0){
        garageDiv.innerHTML = "<p style='color:#7f8c8d'>Garaj boÅŸ.</p>";
    }

    garage.forEach(c=>{
        let styleClass = c.type === "togg" ? "togg" : (c.type === "makam" ? "makam" : "car");
        garageDiv.innerHTML += `
        <div class="${styleClass}">
             <div style="text-align:left">
                <b>${c.name}</b><br>
                <small>Maliyet: ${c.price.toLocaleString()}</small>
            </div>
            <div>
                <button class="exp" onclick="expert(${c.id})">Exp</button>
                <button class="sell" onclick="sell(${c.id})">SAT</button>
            </div>
        </div>`;
    });
}

// ==== GÄ°ZLÄ° KODLAR (HÄ°LE) ====
document.addEventListener("keydown",function(e){
    if(e.key==="Enter"){
        let code = prompt("GÄ°ZLÄ° KOD GÄ°R:");
        if((code==="kÃ¼lliye" || code==="reis" || code==="rte") && !cheatUsed){
            money += 10000000;
            rep = 100;
            cheatUsed = true;
            log("ğŸ‡¹ğŸ‡· VERGÄ° AFFI GELDÄ°! K
