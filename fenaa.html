<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reis Galericilik: RTE Edition + Kumar</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a1a;
            color: #fff;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 { color: #1abc9c; text-shadow: 2px 2px #000; letter-spacing: 2px; }
        .stats-bar {
            background: #2c3e50;
            width: 100%;
            max-width: 900px;
            padding: 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            border: 2px solid #1abc9c;
            font-size: 1.1em;
            font-weight: bold;
            flex-wrap: wrap;
            gap: 10px;
        }
        .container {
            display: flex;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            flex-wrap: wrap;
        }
        .panel {
            flex: 1;
            background: #34495e;
            padding: 15px;
            border-radius: 10px;
            min-width: 300px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        .panel h2 { border-bottom: 2px solid #1abc9c; padding-bottom: 10px; color: #1abc9c; }
        .car-card {
            background: #ecf0f1;
            color: #333;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 5px solid #bdc3c7;
        }
        .car-card.makam { 
            border-left: 8px solid #e74c3c; 
            background: #fdf2e9;
            box-shadow: 0 0 10px #e74c3c;
        }
        .car-card.rare { border-left-color: #f1c40f; }
        .car-info { font-size: 0.9em; }
        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }
        .btn-buy { background-color: #27ae60; color: white; }
        .btn-sell { background-color: #e67e22; color: white; }
        .btn-gamble { background-color: #8e44ad; color: white; margin: 5px; width: 40%; }
        .btn-upgrade { background-color: #f1c40f; color: #000; padding: 5px 10px; font-size: 0.8em; }

        #log-area {
            width: 100%;
            max-width: 1200px;
            height: 120px;
            background: #000;
            color: #1abc9c;
            font-family: 'Courier New', monospace;
            padding: 10px;
            margin-top: 20px;
            overflow-y: scroll;
            border: 1px solid #1abc9c;
        }
        .special { color: #8e44ad; font-weight: bold; }
        .gamble-box { text-align: center; background: #2c3e50; padding: 10px; border-radius: 10px; border: 1px solid #8e44ad; }
    </style>
</head>
<body>

    <h1>ğŸ‡¹ğŸ‡· REÄ°S GALERÄ°CÄ°LÄ°K: RTE EDITION ğŸ‡¹ğŸ‡·</h1>

    <div class="stats-bar">
        <span id="money">Nakit: 750,000 TL</span>
        <span id="inventory-count">AraÃ§lar: 0/6</span>
        <span id="reputation">Ä°tibar: %20</span>
        <button class="btn btn-upgrade" onclick="upgradeGarage()">ğŸ—ï¸ GarajÄ± BÃ¼yÃ¼t (<span id="upgrade-cost">250.000</span> TL)</button>
    </div>

    <div class="container">
        <div class="panel">
            <h2>ğŸ“¢ Ä°HALE (Piyasa)</h2>
            <div id="market-list"></div>
            <button class="btn" style="background:#1abc9c; color:white; width:100%; margin-top:10px;" onclick="refreshMarket()">ğŸ”„ PiyasayÄ± Yenile (1.000 TL)</button>
        </div>

        <div class="panel">
            <h2>ğŸ  GARAJIM</h2>
            <div id="my-garage"></div>
        </div>

        <div class="panel">
            <h2>ğŸ² BEÅTEPE CASINO</h2>
            <div class="gamble-box">
                <p>Kaderini belirle Reis!</p>
                <button class="btn btn-gamble" onclick="playGamble(50000)">50.000 TL Bas</button>
                <button class="btn btn-gamble" onclick="playGamble(250000)">250.000 TL Bas</button>
                <button class="btn btn-gamble" onclick="playGamble(1000000)">1 MÄ°LYON TL Bas</button>
                <button class="btn btn-gamble" style="background:#c0392b" onclick="playGamble('all')">HEPSÄ°NÄ° BAS!</button>
                <p style="font-size: 0.8em; color: #bdc3c7;">%50 Åans: Ya 2 katÄ±, ya sÄ±fÄ±r!</p>
            </div>
        </div>
    </div>

    <div id="log-area">Sisteme hoÅŸgeldin Reis. Ticaret mi, kumar mÄ±? Karar senin...</div>

    <script>
        // Oyun DeÄŸiÅŸkenleri
        let money = 750000;
        let reputation = 20;
        let garage = [];
        let maxGarage = 6;
        let market = [];
        let upgradeCost = 250000;

        // AraÃ§ VeritabanÄ±
        const carTypes = [
            { name: "TofaÅŸ Åahin", basePrice: 200000, risk: 0.8 },
            { name: "Honda Civic (VTEC)", basePrice: 800000, risk: 0.4 },
            { name: "VW Passat (AÅŸiret)", basePrice: 1500000, risk: 0.3 },
            { name: "TOGG T10X (Anadolu)", basePrice: 2000000, isMakam: true },
            { name: "TOGG T10F (Sedan)", basePrice: 2500000, isMakam: true },
            { name: "Mercedes S600 (Makam)", basePrice: 12000000, isMakam: true },
            { name: "Audi A8 L (ZÄ±rhlÄ±)", basePrice: 15000000, isMakam: true },
            { name: "BMW 3.20i (Yan)", basePrice: 2000000, risk: 0.6 },
            { name: "Makam Konvoyu (G-Serisi)", basePrice: 10000000, isMakam: true }
        ];

        const conditions = [
            { text: "HatasÄ±z BoyasÄ±z", val: 1.3 },
            { text: "CumhurbaÅŸkanlÄ±ÄŸÄ± Konvoyundan", val: 1.5 },
            { text: "Doktordan Temiz", val: 1.2 },
            { text: "Keyfe Keder BoyalÄ±", val: 0.9 },
            { text: "Ã‡Ä±tÄ±r HasarlÄ±", val: 0.7 },
            { text: "Pert KayÄ±tlÄ±", val: 0.5 }
        ];

        function log(msg) {
            const logArea = document.getElementById("log-area");
            logArea.innerHTML = `> ${msg}<br>` + logArea.innerHTML;
            logArea.scrollTop = 0;
        }

        function formatMoney(amount) {
            return amount.toLocaleString('tr-TR') + " TL";
        }

        function updateUI() {
            document.getElementById("money").innerText = `Nakit: ${formatMoney(money)}`;
            document.getElementById("inventory-count").innerText = `AraÃ§lar: ${garage.length}/${maxGarage}`;
            document.getElementById("reputation").innerText = `Ä°tibar: %${reputation}`;
            document.getElementById("upgrade-cost").innerText = upgradeCost.toLocaleString('tr-TR');
            
            renderMarket();
            renderGarage();
        }

        // --- GARAJ UPGRADE ---
        function upgradeGarage() {
            if (money >= upgradeCost) {
                money -= upgradeCost;
                maxGarage += 2; // Her seferinde 2 slot ekler
                upgradeCost *= 2; // Fiyat katlanÄ±r
                log(`ğŸ—ï¸ Garaj geniÅŸletildi! Yeni kapasite: ${maxGarage}`);
                updateUI();
            } else {
                log("âŒ GarajÄ± bÃ¼yÃ¼tmek iÃ§in paran yetersiz Reis!");
            }
        }

        // --- KUMAR SÄ°STEMÄ° ---
        function playGamble(amount) {
            let bet = amount === 'all' ? money : amount;

            if (money <= 0 || money < bet) {
                log("âŒ Masaya koyacak paran yok, Ã¶nce araba sat!");
                return;
            }

            if (bet < 1000) {
                log("âŒ Bu kadar kÃ¼Ã§Ã¼k paraya zar atmayÄ±z.");
                return;
            }

            money -= bet;
            log(`ğŸ² ${formatMoney(bet)} ortaya konuldu. Zar dÃ¶nÃ¼yor...`);

            setTimeout(() => {
                if (Math.random() > 0.5) {
                    let win = bet * 2;
                    money += win;
                    log(`ğŸ’° KAZANDIN! ${formatMoney(win)} geri aldÄ±n. ÅansÄ±n yaver gitti.`);
                } else {
                    log(`ğŸ’€ KAYBETTÄ°N! ${formatMoney(bet)} uÃ§tu gitti. KÄ±smet deÄŸilmiÅŸ...`);
                }
                updateUI();
            }, 500);
        }

        function generateCar() {
            const carBase = carTypes[Math.floor(Math.random() * carTypes.length)];
            const cond = conditions[Math.floor(Math.random() * conditions.length)];
            let finalPrice = Math.floor(carBase.basePrice * cond.val * (0.9 + Math.random() * 0.2));
            return {
                id: Math.random().toString(36).substr(2, 9),
                name: carBase.name,
                condition: cond.text,
                price: finalPrice,
                isMakam: carBase.isMakam || false
            };
        }

        function refreshMarket() {
            if (money < 1000) { log("â— Para yok."); return; }
            money -= 1000;
            market = [];
            for(let i=0; i<4; i++) market.push(generateCar());
            log("Piyasa yenilendi.");
            updateUI();
        }

        function buyCar(id) {
            if (garage.length >= maxGarage) { log("ğŸš« Garaj dolu!"); return; }
            const carIndex = market.findIndex(c => c.id === id);
            const car = market[carIndex];
            if (money >= car.price) {
                money -= car.price;
                garage.push(car);
                market.splice(carIndex, 1);
                log(`âœ… ${car.name} alÄ±ndÄ±.`);
                updateUI();
            } else { log("âŒ Para yetersiz."); }
        }

        function sellCar(id) {
            const carIndex = garage.findIndex(c => c.id === id);
            const car = garage[carIndex];
            let offer = Math.floor(car.price * (0.85 + Math.random() * 0.6));
            if (confirm(`${car.name} iÃ§in teklif: ${formatMoney(offer)}. SatÄ±lsÄ±n mÄ±?`)) {
                money += offer;
                reputation = Math.min(100, reputation + (offer > car.price ? 2 : -1));
                garage.splice(carIndex, 1);
                log(`ğŸ’° SatÄ±ldÄ±. KÃ¢r/Zarar: ${formatMoney(offer - car.price)}`);
                updateUI();
            }
        }

        function renderMarket() {
            const list = document.getElementById("market-list");
            list.innerHTML = "";
            market.forEach(car => {
                list.innerHTML += `<div class="car-card ${car.isMakam ? 'makam' : ''}">
                    <div class="car-info"><strong>${car.name}</strong><br><span class="special">${car.condition}</span><br>${formatMoney(car.price)}</div>
                    <button class="btn btn-buy" onclick="buyCar('${car.id}')">AL</button>
                </div>`;
            });
        }

        function renderGarage() {
            const list = document.getElementById("my-garage");
            list.innerHTML = "";
            if(garage.length === 0) list.innerHTML = "Garaj boÅŸ.";
            garage.forEach(car => {
                list.innerHTML += `<div class="car-card ${car.isMakam ? 'makam' : 'rare'}">
                    <div class="car-info"><strong>${car.name}</strong><br>${car.condition}<br>${formatMoney(car.price)}</div>
                    <button class="btn btn-sell" onclick="sellCar('${car.id}')">SAT</button>
                </div>`;
            });
        }

        // Hile
        document.addEventListener('keypress', e => {
            if (e.key === 'r') {
                if (prompt("Kod:") === "togg2023") {
                    money += 10000000; reputation = 100;
                    log("ğŸ’£ HÄ°LE AKTÄ°F!"); updateUI();
                }
            }
        });

        refreshMarket();
        money += 1000;
        updateUI();
    </script>
</body>
</html>
