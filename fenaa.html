<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Galeri Tycoon: TÄ±klama Garantili!</title>
<style>
    :root { --bg: #0f0f0f; --card: #1a1a1a; --gold: #ffd700; --red: #ff4d4d; --green: #2ecc71; --blue: #3498db; }
    body { margin: 0; background: var(--bg); color: #fff; font-family: sans-serif; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
    
    /* ÃœST PANEL */
    .top-bar { background: #000; padding: 15px; display: flex; justify-content: space-around; border-bottom: 2px solid #333; font-weight: bold; font-size: 0.9em; }
    .bar-wrap { width: 60px; height: 8px; background: #333; border-radius: 4px; display: inline-block; margin-left: 5px; }
    .bar-fill { height: 100%; transition: 0.3s; }

    /* ANA OYUN ALANI */
    .container { flex: 1; display: grid; grid-template-columns: 200px 1fr 280px; gap: 10px; padding: 10px; overflow: hidden; }

    /* SOL MENÃœ */
    .menu { display: flex; flex-direction: column; gap: 10px; }
    .nav-btn { background: var(--card); border: 1px solid #444; color: #fff; padding: 15px; border-radius: 8px; cursor: pointer; font-weight: bold; text-align: left; }
    .nav-btn:hover { background: #222; border-color: var(--blue); }
    .nav-btn.active { background: var(--blue); border-color: #fff; }

    /* ORTA EKRAN (NPC) */
    .stage { background: var(--card); border-radius: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center; border: 1px solid #333; position: relative; padding: 20px; }
    .npc-img { font-size: 6em; margin-bottom: 10px; }
    .bubble { background: #222; padding: 15px; border-radius: 10px; text-align: center; border: 1px solid #444; max-width: 80%; margin-bottom: 20px; font-style: italic; }

    /* SAÄ PANEL (GALERÄ°) */
    .sidebar { background: var(--card); border-radius: 15px; padding: 15px; border: 1px solid #333; display: flex; flex-direction: column; }
    .car-box { background: #000; height: 150px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 5em; border: 1px dashed #555; margin: 10px 0; }

    /* BUTONLAR */
    .action-btn { background: var(--green); color: #000; border: none; padding: 15px; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-bottom: 8px; font-size: 1em; }
    .action-btn:active { transform: scale(0.98); }
    .btn-red { background: var(--red); color: #fff; }
    .btn-blue { background: var(--blue); color: #fff; }
    .btn-gold { background: var(--gold); color: #000; }

    input { background: none; border: 1px solid #444; color: var(--gold); text-align: center; padding: 5px; font-size: 1.1em; width: 90%; align-self: center; }

    @media (max-width: 800px) { .container { grid-template-columns: 1fr; overflow-y: auto; } }
</style>
</head>
<body>

    <div class="top-bar">
        <div>ğŸ’° <span id="money" style="color:var(--green)">300,000</span></div>
        <div>ğŸ• <div class="bar-wrap"><div id="hunger-bar" class="bar-fill" style="background:var(--red); width:20%"></div></div></div>
        <div>ğŸ•Œ <div class="bar-wrap"><div id="faith-bar" class="bar-fill" style="background:var(--green); width:50%"></div></div></div>
        <div style="color:var(--blue)">ğŸ“… <span id="day-text">Pzt</span></div>
    </div>

    <div class="container">
        <div class="menu">
            <button class="nav-btn active" id="btn-galeri" onclick="changeLoc('galeri')">ğŸ¢ Galeri Merkez</button>
            <button class="nav-btn" id="btn-mahalle" onclick="changeLoc('mahalle')">ğŸ˜ï¸ Mahalle & Cami</button>
            <button class="nav-btn" id="btn-sanayi" onclick="changeLoc('sanayi')">ğŸ”§ Sanayi Sitesi</button>
            <button class="nav-btn" id="btn-tefeci" onclick="changeLoc('tefeci')">ğŸ’€ Tefeci Remzi</button>
            <button class="action-btn btn-red" style="margin-top:auto" onclick="endDay()">ğŸŒ™ GÃ¼nÃ¼ Bitir</button>
        </div>

        <div class="stage">
            <div id="npc-avatar" class="npc-img">ğŸ¤µ</div>
            <h2 id="npc-name" style="margin:5px 0">Galerici Mahmut</h2>
            <div class="bubble" id="npc-talk">"HoÅŸgeldin kral, bugÃ¼n dÃ¼kkan senin!"</div>
            
            <div id="action-area" style="width: 100%; max-width: 300px;">
                </div>
        </div>

        <div class="sidebar">
            <input type="text" value="TUNA GALERÄ°">
            <div class="car-box" id="car-icon">ğŸ¢</div>
            <h3 id="car-name" style="text-align:center; margin:5px 0">ARAÃ‡ YOK</h3>
            <p id="car-price" style="text-align:center; color:#888;">DeÄŸer: -</p>
            <div id="main-ctrl">
                <button class="action-btn btn-blue" onclick="searchCar()">ğŸš— Araba Ara</button>
            </div>
        </div>
    </div>

<script>
    const cars = [
        {n:"TofaÅŸ Åahin", p:250000, i:"ğŸš—"}, {n:"Fiat Egea", p:900000, i:"ğŸš™"},
        {n:"BMW M4", p:6000000, i:"ğŸï¸"}, {n:"Mercedes G63", p:16000000, i:"ğŸšœ"}
    ];

    let state = { money: 300000, hunger: 20, faith: 50, day: 0, loc: 'galeri', car: null, tempCar: null, tempPrice: 0 };

    function changeLoc(loc) {
        state.loc = loc;
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + loc).classList.add('active');
        
        const area = document.getElementById('action-area');
        area.innerHTML = "";

        if(loc === 'galeri') {
            setNPC("ğŸ¤µ", "Galerici Mahmut", "Piyasa durgun, araba kovalamak lazÄ±m.");
        } else if(loc === 'mahalle') {
            setNPC("ğŸ‘³", "HacÄ± Abi", "Namaz huzurdur evlat. KarnÄ±n da aÃ§sa doyuralÄ±m.");
            area.innerHTML = `
                <button class="action-btn btn-gold" onclick="pray()">ğŸ•Œ Namaz KÄ±l (Ä°man +30)</button>
                <button class="action-btn btn-blue" onclick="eat()">ğŸ›’ Market (-â‚º2,000)</button>
            `;
        } else if(loc === 'sanayi') {
            setNPC("ğŸ‘¨â€ğŸ”§", "Usta Nuri", "Getir arabayÄ± da iÃ§inden geÃ§elim piyasanÄ±n.");
            if(state.car) area.innerHTML = `<button class="action-btn btn-blue" onclick="mod()">ğŸ› ï¸ Modifiye Et (-â‚º100k)</button>`;
        } else if(loc === 'tefeci') {
            setNPC("ğŸ•¶ï¸", "Tefeci Remzi", "Para her kapÄ±yÄ± aÃ§ar, yeter ki Ã¶de...");
            area.innerHTML = `<button class="action-btn btn-red" onclick="loan()">ğŸ’° â‚º200k Kredi Ã‡ek</button>`;
        }
        updateUI();
    }

    function setNPC(img, name, talk) {
        document.getElementById('npc-avatar').innerText = img;
        document.getElementById('npc-name').innerText = name;
        document.getElementById('npc-talk').innerText = `"${talk}"`;
    }

    function updateUI() {
        document.getElementById('money').innerText = state.money.toLocaleString();
        document.getElementById('hunger-bar').style.width = state.hunger + "%";
        document.getElementById('faith-bar').style.width = state.faith + "%";
        document.getElementById('day-text').innerText = ["Pzt", "Sal", "Ã‡ar", "Per", "Cum", "Cmt", "Paz"][state.day];

        const mainCtrl = document.getElementById('main-ctrl');
        if(state.car) {
            document.getElementById('car-icon').innerText = state.car.i;
            document.getElementById('car-name').innerText = state.car.n;
            document.getElementById('car-price').innerText = "DeÄŸer: â‚º" + state.car.p.toLocaleString();
            mainCtrl.innerHTML = `<button class="action-btn btn-blue" onclick="sellStart()">ğŸ’° MÃ¼ÅŸteri Bul</button>`;
        } else {
            document.getElementById('car-icon').innerText = "ğŸ¢";
            document.getElementById('car-name').innerText = "ARAÃ‡ YOK";
            document.getElementById('car-price').innerText = "DeÄŸer: -";
            mainCtrl.innerHTML = `<button class="action-btn btn-blue" onclick="searchCar()">ğŸš— Araba Ara</button>`;
        }
    }

    function searchCar() {
        if(state.loc !== 'galeri') return alert("Galeriye git!");
        let c = cars[Math.floor(Math.random()*cars.length)];
        state.tempCar = c;
        state.tempPrice = Math.floor(c.p * (0.9 + Math.random() * 0.2));
        setNPC("ğŸ‘¤", "SatÄ±cÄ±", `HayÄ±rlÄ± olsun, ${c.n} iÃ§in â‚º${state.tempPrice.toLocaleString()} istiyorum.`);
        document.getElementById('action-area').innerHTML = `
            <button class="action-btn" onclick="buyConfirm()">âœ… SatÄ±n Al</button>
            <button class="action-btn btn-blue" onclick="pazarlik()">ğŸ¤ PazarlÄ±k</button>
        `;
    }

    function pazarlik() {
        if(state.faith > 60) {
            state.tempPrice = Math.floor(state.tempPrice * 0.9);
            setNPC("ğŸ‘¤", "SatÄ±cÄ±", "DÃ¼rÃ¼st adama benziyorsun, kÄ±rdÄ±m fiyatÄ±.");
        } else alert("Ä°man barÄ±n dÃ¼ÅŸÃ¼k, sana gÃ¼venmiyor!");
    }

    function buyConfirm() {
        if(state.money >= state.tempPrice) {
            state.money -= state.tempPrice;
            state.car = state.tempCar;
            changeLoc('galeri');
        } else alert("Para yetmiyor!");
    }

    function sellStart() {
        let p = Math.floor(state.car.p * (0.8 + Math.random() * 0.6));
        state.tempPrice = p;
        setNPC("ğŸ¤µ", "MÃ¼ÅŸteri", `Bu araca â‚º${p.toLocaleString()} veririm.`);
        document.getElementById('action-area').innerHTML = `<button class="action-btn" onclick="sellConfirm()">ğŸ¤ SattÄ±m</button>`;
    }

    function sellConfirm() {
        state.money += state.tempPrice;
        state.car = null;
        changeLoc('galeri');
    }

    function pray() { state.faith = 100; alert("Huzur buldun."); updateUI(); }
    function eat() { if(state.money >= 2000) { state.money -= 2000; state.hunger = 0; } updateUI(); }
    function mod() { state.money -= 100000; state.car.p += 300000; alert("Usta fiÅŸek yaptÄ±!"); updateUI(); }
    function loan() { state.money += 200000; alert("Tefeci: GÃ¶zÃ¼m Ã¼zerinde."); updateUI(); }

    function endDay() {
        state.day++; if(state.day > 6) state.day = 0;
        state.hunger += 20;
        if(state.day === 6) { state.money = Math.floor(state.money * 0.8); alert("Vergi kesildi!"); }
        changeLoc('galeri');
    }

    updateUI();
</script>
</body>
</html>
