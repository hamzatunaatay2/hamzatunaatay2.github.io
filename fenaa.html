<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kral Galericilik SimÃ¼latÃ¶rÃ¼</title>
<style>
body{
    background:#1a1a1a;
    color:#fff;
    font-family:Segoe UI;
    padding:20px;
    text-align:center
}
h1{color:#f1c40f}
.stats{
    display:flex;
    justify-content:space-around;
    background:#333;
    padding:15px;
    border-radius:10px;
    margin-bottom:15px
}
.container{
    display:flex;
    gap:15px;
    justify-content:center;
    flex-wrap:wrap
}
.panel{
    background:#2c3e50;
    padding:15px;
    border-radius:10px;
    width:45%;
    min-width:300px
}
.car{
    background:#ecf0f1;
    color:#000;
    padding:10px;
    border-radius:6px;
    margin-bottom:8px
}
button{
    padding:6px 12px;
    border:none;
    border-radius:5px;
    font-weight:bold;
    cursor:pointer;
    margin:3px
}
.buy{background:#2ecc71}
.sell{background:#e67e22}
.exp{background:#3498db;color:#fff}
#log{
    background:#000;
    color:#0f0;
    height:120px;
    overflow:auto;
    margin-top:15px;
    padding:10px;
    font-family:monospace
}
</style>
</head>

<body>

<h1>ğŸš— KRAL GALERÄ°CÄ°LÄ°K ğŸš—</h1>

<div class="stats">
    <span id="money"></span>
    <span id="rep"></span>
    <span id="lvl"></span>
</div>

<div class="container">
    <div class="panel">
        <h3>ğŸ“¢ PÄ°YASA</h3>
        <div id="market"></div>
        <button onclick="refresh()">ğŸ”„ Yenile (1.000 TL)</button>
    </div>

    <div class="panel">
        <h3>ğŸ  GARAJ</h3>
        <div id="garage"></div>
    </div>
</div>

<div id="log">Sisteme hoÅŸ geldin galerici...</div>

<script>
// ==== OYUN DEÄÄ°ÅKENLERÄ° ====
let money = 500000;
let rep = 10;
let lvl = 1;
let xp = 0;
let garage = [];
let market = [];
let cheatUsed = false;

// ==== ARAÃ‡ VERÄ°TABANI VE OLUÅTURUCU ====
const carDatabase = [
    { b: "TofaÅŸ", m: ["Åahin", "DoÄŸan SLX", "Kartal", "SerÃ§e"], p: 250000 },
    { b: "BMW", m: ["3.20i", "5.20d", "M3", "M4", "7.40", "X5", "i8"], p: 2500000 },
    { b: "Mercedes", m: ["C180", "E250", "S400", "G63 AMG", "CLA 200", "Vito"], p: 2800000 },
    { b: "Audi", m: ["A3", "A4", "A6", "Q7", "RS6", "R8"], p: 2600000 },
    { b: "VW", m: ["Passat", "Golf", "Polo", "Arteon", "Tiguan", "Caddy"], p: 1400000 },
    { b: "Fiat", m: ["Egea", "Linea", "Doblo", "Fiorino", "Freemont"], p: 700000 },
    { b: "Renault", m: ["Clio", "Megane", "Symbol", "Taliant", "Kadjar"], p: 800000 },
    { b: "Honda", m: ["Civic", "City", "Accord", "CR-V", "Jazz", "S2000"], p: 1100000 },
    { b: "Toyota", m: ["Corolla", "Yaris", "Camry", "C-HR", "RAV4", "Supra"], p: 1200000 },
    { b: "Ford", m: ["Focus", "Fiesta", "Mondeo", "Kuga", "Ranger", "Mustang"], p: 1300000 },
    { b: "Hyundai", m: ["i20", "Accent Blue", "Elantra", "Tucson", "Bayon"], p: 900000 },
    { b: "Peugeot", m: ["208", "308", "3008", "508", "2008"], p: 1250000 },
    { b: "Citroen", m: ["C3", "C4", "C5 Aircross", "C-Elysee", "Ami"], p: 850000 },
    { b: "Opel", m: ["Corsa", "Astra", "Insignia", "Mokka", "Crossland"], p: 1150000 },
    { b: "Volvo", m: ["S60", "S90", "XC40", "XC60", "XC90"], p: 3000000 },
    { b: "Nissan", m: ["Micra", "Qashqai", "Juke", "X-Trail", "Navara", "GTR"], p: 1350000 },
    { b: "Skoda", m: ["Octavia", "Superb", "Fabia", "Kamiq", "Kodiaq"], p: 1450000 },
    { b: "Seat", m: ["Leon", "Ibiza", "Ateca", "Arona", "Tarraco"], p: 1300000 },
    { b: "Kia", m: ["Rio", "Ceed", "Sportage", "Stonic", "Sorento"], p: 1200000 },
    { b: "Dacia", m: ["Duster", "Sandero", "Logan", "Jogger", "Spring"], p: 850000 },
    { b: "Land Rover", m: ["Range Rover", "Evoque", "Defender", "Discovery"], p: 4500000 },
    { b: "Porsche", m: ["Taycan", "Panamera", "Cayenne", "Macan", "911"], p: 8500000 },
    { b: "Ferrari", m: ["458 Italia", "488 GTB", "F12", "California"], p: 12000000 }
];

const years = [2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023];
const packages = ["BoÅŸ Paket", "Dolu Paket", "Full+Full", "GÄ±rtlak Dolu"];

let cars = [];

// Otomatik 500+ Araba Ãœretme DÃ¶ngÃ¼sÃ¼
carDatabase.forEach(brand => {
    brand.m.forEach(model => {
        years.forEach(year => {
            // Her modelden farklÄ± yÄ±llarda Ã¼ret
            // FiyatÄ± yÄ±la gÃ¶re biraz deÄŸiÅŸtir
            let yearMultiplier = 1 + ((year - 2015) * 0.05);
            let finalName = `${brand.b} ${model} (${year})`;
            let finalPrice = Math.floor(brand.p * yearMultiplier);
            
            cars.push({name: finalName, base: finalPrice});
        });
    });
});
// Listeyi biraz karÄ±ÅŸtÄ±r ki hep aynÄ±larÄ± gelmesin
cars.sort(() => Math.random() - 0.5);


// ==== ELEMENTLER ====
const moneySpan = document.getElementById("money");
const repSpan = document.getElementById("rep");
const lvlSpan = document.getElementById("lvl");
const marketDiv = document.getElementById("market");
const garageDiv = document.getElementById("garage");
const logDiv = document.getElementById("log");

// ==== FONKSÄ°YONLAR ====
function log(msg){
    logDiv.innerHTML = "> " + msg + "<br>" + logDiv.innerHTML;
}

function update(){
    moneySpan.innerText = "ğŸ’° " + money.toLocaleString("tr-TR") + " TL";
    repSpan.innerText = "â­ Ä°tibar %" + rep;
    lvlSpan.innerText = "ğŸ† Seviye " + lvl;
    render();
}

function genCar(){
    // GeniÅŸletilmiÅŸ listeden rastgele seÃ§
    let c = cars[Math.floor(Math.random()*cars.length)];
    let price = Math.floor(c.base * (0.8 + Math.random()*0.4));
    return {
        id: Math.random(),
        name: c.name,
        price: price,
        real: Math.floor(price * (1.1 + rep/200)),
        checked: false
    };
}

function refresh(){
    if(money < 1000){
        log("Paran yok, piyasa yenilenmedi.");
        return;
    }
    money -= 1000;
    market = [];
    for(let i=0;i<4;i++) market.push(genCar());
    log("Piyasa yenilendi.");
    update();
}

function buy(id){
    let i = market.findIndex(x=>x.id===id);
    let car = market[i];
    if(money < car.price){
        log("Paran yetmedi.");
        return;
    }
    money -= car.price;
    garage.push(car);
    market.splice(i,1);
    log(car.name + " satÄ±n alÄ±ndÄ±.");
    update();
}

function expert(id){
    let car = garage.find(x=>x.id===id);
    if(money < 5000){
        log("Ekspertiz iÃ§in paran yok.");
        return;
    }
    money -= 5000;
    car.checked = true;
    log(car.name + " ekspertize girdi. GerÃ§ek deÄŸer: " + car.real.toLocaleString() + " TL");
    update();
}

function sell(id){
    let i = garage.findIndex(x=>x.id===id);
    let car = garage[i];
    let offer = car.checked
        ? Math.floor(car.real * (0.9 + Math.random()*0.2))
        : Math.floor(car.price * (0.6 + Math.random()*0.3));

    if(confirm(car.name + "\nTeklif: " + offer.toLocaleString() + " TL\nSatÄ±lsÄ±n mÄ±?")){
        money += offer;
        let kar = offer - car.price;
        rep += kar > 0 ? 2 : -1;
        xp += 10;

        if(xp >= 50){
            lvl++;
            xp = 0;
            log("ğŸ”¥ SEVÄ°YE ATLADIN!");
        }

        garage.splice(i,1);
        log(car.name + " satÄ±ldÄ±. Kar: " + kar.toLocaleString() + " TL");
        update();
    }
}

function render(){
    marketDiv.innerHTML = "";
    garageDiv.innerHTML = "";

    market.forEach(c=>{
        marketDiv.innerHTML += `
        <div class="car">
            <b>${c.name}</b><br>
            ${c.price.toLocaleString()} TL<br>
            <button class="buy" onclick="buy(${c.id})">AL</button>
        </div>`;
    });

    if(garage.length === 0){
        garageDiv.innerHTML = "Garaj boÅŸ.";
    }

    garage.forEach(c=>{
        marketDiv.innerHTML += ``; // Temizlik
        garageDiv.innerHTML += `
        <div class="car">
            <b>${c.name}</b><br>
            Maliyet: ${c.price.toLocaleString()} TL<br>
            <button class="exp" onclick="expert(${c.id})">Ekspertiz</button>
            <button class="sell" onclick="sell(${c.id})">SAT</button>
        </div>`;
    });
}

// ==== HÄ°LE SÄ°STEMÄ° ====
document.addEventListener("keydown",function(e){
    if(e.key==="Enter"){
        let code = prompt("Hile kodunu gir:");
        if(code==="kralgalerici20m" && !cheatUsed){
            money += 20000000;
            cheatUsed = true;
            log("ğŸ’£ HÄ°LE AKTÄ°F! 20.000.000 TL eklendi.");
            update();
        }else if(cheatUsed){
            log("âŒ Bu hile zaten kullanÄ±ldÄ±.");
        }else{
            log("âŒ GeÃ§ersiz hile kodu.");
        }
    }
});

// ==== BAÅLAT ====
refresh();
money += 1000;
update();
</script>

</body>
</html>
